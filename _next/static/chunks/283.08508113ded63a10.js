"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[283],{53283:function(e,n,o){o.r(n),o.d(n,{MoonPayBalanceDepositWidget:function(){return g},MoonPayBalanceWithdrawWidget:function(){return C},MoonPayBuyWidget:function(){return y},MoonPayConsumerKycWidget:function(){return h},MoonPayContext:function(){return d},MoonPayNftCheckoutWidget:function(){return f},MoonPayNftClaimWidget:function(){return v},MoonPayProvider:function(){return l},MoonPaySellWidget:function(){return b},MoonPaySwapWidget:function(){return R},MoonPaySwapsCustomerSetupWidget:function(){return w},MoonPayTopUpLedgerWidget:function(){return S},MoonPayTransactionTrackerWidget:function(){return T},MoonPayWithdrawLedgerWidget:function(){return A}});var t=o(67294),r=o(85893),a="moonpay-react-sdk-embedded-frame",s={isLoading:!1,isLoaded:!1};var i=()=>{},u={info:i,warn:i,error:i},d=("undefined"!==typeof window.crypto&&window.crypto.getRandomValues,(0,t.createContext)({apiKey:"",environment:"sandbox",debug:!1})),l=({children:e,apiKey:n,debug:o=!1})=>{const a=function(e){return e.startsWith("pk_live")||e.startsWith("sk_live")?"production":"sandbox"}(n),[i,u]=(0,t.useState)({apiKey:n,environment:a,debug:o}),l=(0,t.useCallback)((async()=>{const e=await async function(e="v1"){return new Promise(((n,o)=>{const t=`https://static.moonpay.com/web-sdk/${e}/moonpay-web-sdk.min.js`,r=document.querySelector(`script[src="${t}"]`);s.isLoading=!0;const a=(e=0)=>window.MoonPayWebSdk?(s.isLoading=!1,s.isLoaded=!0,void n(window.MoonPayWebSdk.init)):e>100?(s.isLoading=!1,void o(new Error("Loading MoonPayWebSdk script timed out."))):void setTimeout((()=>a(e+1)),100);if(r)a();else{const e=document.createElement("script");e.async=!0,e.src=t,e.addEventListener("load",(()=>{s.isLoading=!1,s.isLoaded=!0,n(window.MoonPayWebSdk?.init)})),e.addEventListener("error",(()=>{s.isLoading=!1,s.isLoaded=!1,o(new Error("Failed to load MoonPayWebSdk script."))})),document.body.appendChild(e)}}))}();u((n=>({...n,init:e})))}),[]);return(0,t.useEffect)((()=>{i.init||l()}),[l,i.init]),(0,r.jsx)(d.Provider,{value:i,children:e})},c=(e,n,o)=>{const r=(0,t.useRef)(null),{init:a,debug:s}=(0,t.useContext)(d),i=(0,t.useRef)((new class extends class e{prefix;logger;constructor({logger:e,prefix:n}){this.logger=e,this.prefix=n??["Logger"]}if(n){return n?this:new e({logger:u})}info(...e){this.logger.info(`[${this.prefix}]`,...e)}warn(...e){this.logger.warn(`[${this.prefix}]`,...e)}error(...e){this.logger.error(`[${this.prefix}]`,...e)}}{constructor(){super({logger:console,prefix:["MoonPay React SDK"]})}}).if(s||!1)),l=(0,t.useCallback)((async()=>{if(r.current){if(o||!("walletAddress"in e)&&!("walletAddresses"in e)||i.current.warn("You must provide an `onUrlSignatureRequested` function to sign the URL when using the `walletAddress` or `walletAddresses` prop"),o){const e=r.current.generateUrlForSigning();try{const n=await(o?.(e));if(!n)return;r.current?.updateSignature(n)}catch(t){i.current.error("Something went wrong calling the provided `onUrlSignatureRequested` function:",t)}}n&&r.current?.show()}}),[o,n,e]);(0,t.useEffect)((()=>{r.current&&r.current.close();const n=a?.(e)||null;r.current=n,l()}),[a,e,l])},p={width:"424px",height:"656px",margin:"32px 28px 32px 28px",border:"1px solid #E5E7EB",borderRadius:"16px",overflow:"hidden"};function m({config:e,onUrlSignatureRequested:n,visible:o=!0,className:t,style:s}){return c(e,o,n),o?(0,r.jsx)("div",{id:a,className:t,style:"embedded"===e.variant?{...p,...s}:void 0}):null}function g(e){const{environment:n}=(0,t.useContext)(d),o=(0,t.useMemo)((()=>(({props:e,debug:n,environment:o})=>{const{theme:t,themeId:r,baseOrigin:s,onLogin:i,onTransactionCompleted:u,onUnsupportedRegion:d,onCloseOverlay:l,onTransactionCreated:c,onBalanceDepositTransferConfirmed:p,auth:m,useWarnBeforeRefresh:g}=e,C={theme:t,themeId:r,baseOrigin:s},y={onLogin:i,onTransactionCompleted:u,onUnsupportedRegion:d,onCloseOverlay:l,onTransactionCreated:c,onBalanceDepositTransferConfirmed:p};return{flow:"moonPayBalanceDeposit",variant:e.variant,environment:o,params:C,debug:n,handlers:y,auth:m,useWarnBeforeRefresh:g,containerNodeSelector:`#${a}`}})({props:e,environment:n,debug:!1})),[e,n]);return(0,r.jsx)(m,{config:o,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function C(e){const{environment:n}=(0,t.useContext)(d),o=(0,t.useMemo)((()=>(({props:e,debug:n,environment:o})=>{const{theme:t,themeId:r,baseOrigin:s,onLogin:i,onTransactionCompleted:u,onUnsupportedRegion:d,onCloseOverlay:l,onTransactionCreated:c,auth:p,useWarnBeforeRefresh:m}=e,g={theme:t,themeId:r,baseOrigin:s},C={onLogin:i,onTransactionCompleted:u,onUnsupportedRegion:d,onCloseOverlay:l,onTransactionCreated:c};return{flow:"moonPayBalanceWithdraw",variant:e.variant,environment:o,params:g,debug:n,handlers:C,auth:p,useWarnBeforeRefresh:m,containerNodeSelector:`#${a}`}})({props:e,environment:n,debug:!1})),[e,n]);return(0,r.jsx)(m,{config:o,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function y(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{currencyCode:s,defaultCurrencyCode:i,walletAddress:u,walletAddressTag:d,walletAddresses:l,walletAddressTags:c,colorCode:p,theme:m,themeId:g,language:C,baseCurrencyCode:y,baseCurrencyAmount:h,quoteCurrencyAmount:f,lockAmount:v,email:b,externalTransactionId:w,externalCustomerId:R,paymentMethod:S,redirectURL:T,showAllCurrencies:A,showOnlyCurrencies:W,showWalletAddressForm:I,unsupportedRegionRedirectUrl:U,skipUnsupportedRegionScreen:K,baseOrigin:x,onAuthToken:O,onInitiateDeposit:k,onKmsWalletsCreated:L,onLogin:N,onTransactionCompleted:q,onUnsupportedRegion:M,onSwapsCustomerSetupComplete:B,onCloseOverlay:P,onTransactionCreated:D,auth:$,useWarnBeforeRefresh:j,overlayNode:E}=e,F={apiKey:n,signature:r,currencyCode:s,defaultCurrencyCode:i,walletAddress:u,walletAddressTag:d,walletAddresses:l,walletAddressTags:c,colorCode:p,theme:m,themeId:g,language:C,baseCurrencyCode:y,baseCurrencyAmount:h,quoteCurrencyAmount:f,lockAmount:v,email:b,externalTransactionId:w,externalCustomerId:R,paymentMethod:S,redirectURL:T,showAllCurrencies:A,showOnlyCurrencies:W,showWalletAddressForm:I,unsupportedRegionRedirectUrl:U,skipUnsupportedRegionScreen:K,baseOrigin:x},_={onAuthToken:O,onInitiateDeposit:k,onKmsWalletsCreated:L,onLogin:N,onTransactionCompleted:q,onUnsupportedRegion:M,onSwapsCustomerSetupComplete:B,onCloseOverlay:P,onTransactionCreated:D};return{flow:"buy",variant:e.variant,environment:t,params:F,debug:o,handlers:_,auth:$,useWarnBeforeRefresh:j,containerNodeSelector:`#${a}`,overlayNode:E}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function h(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t})=>{const{amount:r,amountCurrencyCode:s,theme:i,themeId:u,baseOrigin:d,onLogin:l,onInitiateDeposit:c,onConsumerKycComplete:p,onKmsWalletsCreated:m,onTransactionCompleted:g,onUnsupportedRegion:C,onCloseOverlay:y,auth:h,useWarnBeforeRefresh:f}=e,v={apiKey:n,amount:r,amountCurrencyCode:s,theme:i,themeId:u,baseOrigin:d},b={onLogin:l,onInitiateDeposit:c,onConsumerKycComplete:p,onKmsWalletsCreated:m,onTransactionCompleted:g,onUnsupportedRegion:C,onCloseOverlay:y};return{flow:"consumerKyc",variant:e.variant,environment:t,params:v,debug:o,handlers:b,auth:h,useWarnBeforeRefresh:f,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function f(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{contractAddress:s,tokenId:i,listingId:u,externalTransactionId:d,baseCurrencyCode:l,redirectURL:c,walletAddress:p,subPartnerName:m,metadata:g,dynamicAssetInfo:C,sellType:y,email:h,quantity:f,baseOrigin:v,onAuthToken:b,onLogin:w,onTransactionCompleted:R,onUnsupportedRegion:S,onInitiateDeposit:T,onKmsWalletsCreated:A,onCloseOverlay:W,onTransactionCreated:I,auth:U,useWarnBeforeRefresh:K}=e,x={apiKey:n,signature:r,contractAddress:s,tokenId:i,listingId:u,externalTransactionId:d,baseCurrencyCode:l,redirectURL:c,walletAddress:p,subPartnerName:m,metadata:g,dynamicAssetInfo:C,sellType:y,email:h,quantity:f,baseOrigin:v},O={onAuthToken:b,onLogin:w,onTransactionCompleted:R,onUnsupportedRegion:S,onInitiateDeposit:T,onKmsWalletsCreated:A,onCloseOverlay:W,onTransactionCreated:I};return{flow:"nft",variant:e.variant,environment:t,params:x,debug:o,handlers:O,auth:U,useWarnBeforeRefresh:K,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function v(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{contractId:s,tokenId:i,initialScreen:u,onAuthToken:d,onLogin:l,onTransactionCompleted:c,onUnsupportedRegion:p,onInitiateDeposit:m,onKmsWalletsCreated:g,onCloseOverlay:C,onTransactionCreated:y,baseOrigin:h,auth:f,useWarnBeforeRefresh:v}=e,b={apiKey:n,signature:r,contractId:s,tokenId:i,initialScreen:u,baseOrigin:h},w={onAuthToken:d,onLogin:l,onTransactionCompleted:c,onUnsupportedRegion:p,onInitiateDeposit:m,onKmsWalletsCreated:g,onCloseOverlay:C,onTransactionCreated:y};return{flow:"claim",variant:e.variant,environment:t,params:b,debug:o,handlers:w,auth:f,useWarnBeforeRefresh:v,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function b(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{quoteCurrencyCode:s,defaultCurrencyCode:i,defaultBaseCurrencyCode:u,walletAddress:d,walletAddressTag:l,walletAddresses:c,walletAddressTags:p,colorCode:m,theme:g,themeId:C,language:y,baseCurrencyCode:h,baseCurrencyAmount:f,quoteCurrencyAmount:v,lockAmount:b,email:w,externalTransactionId:R,externalCustomerId:S,paymentMethod:T,redirectURL:A,showAllCurrencies:W,showOnlyCurrencies:I,showWalletAddressForm:U,unsupportedRegionRedirectUrl:K,skipUnsupportedRegionScreen:x,mpWalletId:O,baseOrigin:k,onAuthToken:L,onInitiateDeposit:N,onKmsWalletsCreated:q,onLogin:M,onTransactionCompleted:B,onUnsupportedRegion:P,onSwapsCustomerSetupComplete:D,onCloseOverlay:$,onTransactionCreated:j,auth:E,useWarnBeforeRefresh:F}=e,_={apiKey:n,signature:r,quoteCurrencyCode:s,defaultCurrencyCode:i,defaultBaseCurrencyCode:u,walletAddress:d,walletAddressTag:l,walletAddresses:c,walletAddressTags:p,colorCode:m,theme:g,themeId:C,language:y,baseCurrencyCode:h,baseCurrencyAmount:f,quoteCurrencyAmount:v,lockAmount:b,email:w,externalTransactionId:R,externalCustomerId:S,paymentMethod:T,redirectURL:A,showAllCurrencies:W,showOnlyCurrencies:I,showWalletAddressForm:U,unsupportedRegionRedirectUrl:K,skipUnsupportedRegionScreen:x,mpWalletId:O,baseOrigin:k},V={onAuthToken:L,onInitiateDeposit:N,onKmsWalletsCreated:q,onLogin:M,onTransactionCompleted:B,onUnsupportedRegion:P,onSwapsCustomerSetupComplete:D,onCloseOverlay:$,onTransactionCreated:j};return{flow:"sell",variant:e.variant,environment:t,params:_,debug:o,handlers:V,auth:E,useWarnBeforeRefresh:F,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function w(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t})=>{const{amount:r,amountCurrencyCode:s,theme:i,themeId:u,externalCustomerId:d,baseOrigin:l,onAuthToken:c,onLogin:p,onInitiateDeposit:m,onSwapsCustomerSetupComplete:g,onCloseOverlay:C,onTransactionCreated:y,onKmsWalletsCreated:h,onTransactionCompleted:f,onUnsupportedRegion:v,auth:b,useWarnBeforeRefresh:w}=e,R={apiKey:n,amount:r,amountCurrencyCode:s,theme:i,themeId:u,externalCustomerId:d,baseOrigin:l},S={onAuthToken:c,onLogin:p,onInitiateDeposit:m,onSwapsCustomerSetupComplete:g,onCloseOverlay:C,onTransactionCreated:y,onKmsWalletsCreated:h,onTransactionCompleted:f,onUnsupportedRegion:v};return{flow:"swapsCustomerSetup",variant:e.variant,environment:t,params:R,debug:o,handlers:S,auth:b,useWarnBeforeRefresh:w,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function R(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{walletAddress:s,walletAddressTag:i,refundWalletAddress:u,baseCurrencyCode:d,baseCurrencyAmount:l,quoteCurrencyCode:c,quoteCurrencyAmount:p,colorCode:m,theme:g,themeId:C,externalCustomerId:y,baseOrigin:h,onAuthToken:f,onInitiateDeposit:v,onKmsWalletsCreated:b,onLogin:w,onTransactionCompleted:R,onUnsupportedRegion:S,onSwapsCustomerSetupComplete:T,onCloseOverlay:A,onTransactionCreated:W,auth:I,useWarnBeforeRefresh:U}=e,K={apiKey:n,signature:r,walletAddress:s,walletAddressTag:i,refundWalletAddress:u,baseCurrencyCode:d,baseCurrencyAmount:l,quoteCurrencyCode:c,quoteCurrencyAmount:p,colorCode:m,theme:g,themeId:C,externalCustomerId:y,baseOrigin:h},x={onAuthToken:f,onInitiateDeposit:v,onKmsWalletsCreated:b,onLogin:w,onTransactionCompleted:R,onUnsupportedRegion:S,onSwapsCustomerSetupComplete:T,onCloseOverlay:A,onTransactionCreated:W};return{flow:"swap",variant:e.variant,environment:t,params:K,debug:o,handlers:x,auth:I,useWarnBeforeRefresh:U,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function S(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{externalCustomerId:s,theme:i,themeId:u,currencyCode:d,baseOrigin:l,onAuthToken:c,onInitiateDeposit:p,onKmsWalletsCreated:m,onLogin:g,onTransactionCompleted:C,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:h,onCloseOverlay:f,onTransactionCreated:v,auth:b,useWarnBeforeRefresh:w}=e,R={apiKey:n,signature:r,externalCustomerId:s,theme:i,themeId:u,currencyCode:d,baseOrigin:l},S={onAuthToken:c,onInitiateDeposit:p,onKmsWalletsCreated:m,onLogin:g,onTransactionCompleted:C,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:h,onCloseOverlay:f,onTransactionCreated:v};return{flow:"topup",variant:e.variant,environment:t,params:R,debug:o,handlers:S,auth:b,useWarnBeforeRefresh:w,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function T(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,debug:n,environment:o})=>{const{transactionId:t,colorCode:r,theme:s,themeId:i,baseOrigin:u,onAuthToken:d,onInitiateDeposit:l,onKmsWalletsCreated:c,onLogin:p,onTransactionCompleted:m,onUnsupportedRegion:g,onSwapsCustomerSetupComplete:C,onCloseOverlay:y,onTransactionCreated:h,auth:f,useWarnBeforeRefresh:v}=e,b={transactionId:t,colorCode:r,theme:s,themeId:i,baseOrigin:u},w={onAuthToken:d,onInitiateDeposit:l,onKmsWalletsCreated:c,onLogin:p,onTransactionCompleted:m,onUnsupportedRegion:g,onSwapsCustomerSetupComplete:C,onCloseOverlay:y,onTransactionCreated:h};return{flow:"transactionTracker",variant:e.variant,environment:o,params:b,debug:n,handlers:w,auth:f,containerNodeSelector:`#${a}`,useWarnBeforeRefresh:v}})({props:e,apiKey:n,environment:o,debug:!1,signature:""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}function A(e){const{apiKey:n,environment:o}=(0,t.useContext)(d),s=(0,t.useMemo)((()=>(({props:e,apiKey:n,debug:o,environment:t,signature:r})=>{const{externalCustomerId:s,theme:i,themeId:u,baseCurrencyCode:d,baseOrigin:l,onAuthToken:c,onInitiateDeposit:p,onKmsWalletsCreated:m,onLogin:g,onTransactionCompleted:C,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:h,onCloseOverlay:f,onTransactionCreated:v,auth:b,useWarnBeforeRefresh:w}=e,R={apiKey:n,signature:r,externalCustomerId:s,theme:i,themeId:u,baseCurrencyCode:d,baseOrigin:l},S={onAuthToken:c,onInitiateDeposit:p,onKmsWalletsCreated:m,onLogin:g,onTransactionCompleted:C,onUnsupportedRegion:y,onSwapsCustomerSetupComplete:h,onCloseOverlay:f,onTransactionCreated:v};return{flow:"withdraw",variant:e.variant,environment:t,params:R,debug:o,handlers:S,auth:b,useWarnBeforeRefresh:w,containerNodeSelector:`#${a}`}})({props:e,apiKey:n,environment:o,debug:!1,signature:e.signature||""})),[e,n,o]);return(0,r.jsx)(m,{config:s,visible:e.visible,onUrlSignatureRequested:e.onUrlSignatureRequested,className:e.className,style:e.style})}}}]);